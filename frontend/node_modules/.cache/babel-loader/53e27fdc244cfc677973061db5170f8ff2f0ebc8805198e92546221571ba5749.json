{"ast":null,"code":"import React from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./Navbar.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{setIsAuthenticated}=_ref;const navigate=useNavigate();const role=localStorage.getItem(\"role\");const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"role\");// ✅ ลบ role ออกจาก localStorage\nsetIsAuthenticated(false);// ✅ อัปเดต state\nnavigate(\"/\",{replace:true});};const homePath=role===\"Dev\"||role===\"Admin\"?\"/homeAdmin\":\"/home\";return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-left\",children:/*#__PURE__*/_jsx(Link,{to:homePath,children:/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",fontSize:\"16px\",cursor:'pointer',color:'#252525'},children:\"ICE CREAM FREEZER\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-right\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[role===\"Dev\"&&/*#__PURE__*/// ✅ ซ่อน \"PULL\" สำหรับ User\n_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/member\",children:\"MEMBER\"})}),role!==\"User\"&&/*#__PURE__*/// ✅ ซ่อน \"PULL\" สำหรับ User\n_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/pull\",children:\"IMPORT IMAGES\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/show\",children:\"SHOW REPORT\"})}),role===\"Dev\"&&/*#__PURE__*/// ✅ ซ่อน \"PULL\" สำหรับ User\n_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"SIGN UP\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{background:\"none\",border:\"none\",cursor:\"pointer\",color:\"red\",fontSize:'16px',fontWeight:'bold'},children:\"LOGOUT\"})})]})})]});};export default Navbar;","map":{"version":3,"names":["React","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","setIsAuthenticated","navigate","role","localStorage","getItem","handleLogout","removeItem","replace","homePath","className","children","to","style","fontWeight","fontSize","cursor","color","onClick","background","border"],"sources":["C:/Users/Ratti/WebDetectionIcecream/frontend/src/components/Navbar.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\n\r\nconst Navbar = ({ setIsAuthenticated }) => {\r\n  const navigate = useNavigate();\r\n  const role = localStorage.getItem(\"role\");\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\"); // ✅ ลบ role ออกจาก localStorage\r\n    setIsAuthenticated(false); // ✅ อัปเดต state\r\n    navigate(\"/\", { replace: true });\r\n  };\r\n\r\n  const homePath = role === \"Dev\" || role === \"Admin\" ? \"/homeAdmin\" : \"/home\";\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar-left\">\r\n      <Link to={homePath}>\r\n          <p style={{ fontWeight: \"bold\", fontSize: \"16px\", cursor: 'pointer', color: '#252525' }}>\r\n            ICE CREAM FREEZER\r\n          </p>\r\n      </Link>\r\n      </div>\r\n      <div className=\"navbar-right\">\r\n        <ul className=\"nav-links\">\r\n          {role === \"Dev\" && ( // ✅ ซ่อน \"PULL\" สำหรับ User\r\n            <li>\r\n              <Link to=\"/member\">MEMBER</Link>\r\n            </li>\r\n          )}\r\n          {role !== \"User\" && ( // ✅ ซ่อน \"PULL\" สำหรับ User\r\n            <li>\r\n              <Link to=\"/pull\">IMPORT IMAGES</Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            <Link to=\"/show\">SHOW REPORT</Link>\r\n          </li>\r\n          {role === \"Dev\" && ( // ✅ ซ่อน \"PULL\" สำหรับ User\r\n          <li>\r\n            <Link to=\"/register\">SIGN UP</Link>\r\n          </li>\r\n          )}\r\n          {/* <li style={{backgroundColor: 'white', borderRadius: '50px', padding: '7px 6px', marginLeft: '8px', display: 'inline-block'}}> */}\r\n            <li>\r\n            <button onClick={handleLogout} style={{ background: \"none\", border: \"none\", cursor: \"pointer\", color: \"red\", fontSize: '16px', fontWeight: 'bold' }}>\r\n              LOGOUT\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAA4B,IAA3B,CAAEC,kBAAmB,CAAC,CAAAD,IAAA,CACpC,KAAM,CAAAE,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAChCH,YAAY,CAACG,UAAU,CAAC,MAAM,CAAC,CAAE;AACjCN,kBAAkB,CAAC,KAAK,CAAC,CAAE;AAC3BC,QAAQ,CAAC,GAAG,CAAE,CAAEM,OAAO,CAAE,IAAK,CAAC,CAAC,CAClC,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGN,IAAI,GAAK,KAAK,EAAIA,IAAI,GAAK,OAAO,CAAG,YAAY,CAAG,OAAO,CAE5E,mBACEL,KAAA,QAAKY,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBf,IAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC5Bf,IAAA,CAACH,IAAI,EAACmB,EAAE,CAAEH,QAAS,CAAAE,QAAA,cACff,IAAA,MAAGiB,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAN,QAAA,CAAC,mBAEzF,CAAG,CAAC,CACF,CAAC,CACF,CAAC,cACNf,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3Bb,KAAA,OAAIY,SAAS,CAAC,WAAW,CAAAC,QAAA,EACtBR,IAAI,GAAK,KAAK,eAAM;AACnBP,IAAA,OAAAe,QAAA,cACEf,IAAA,CAACH,IAAI,EAACmB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,CAC9B,CACL,CACAR,IAAI,GAAK,MAAM,eAAM;AACpBP,IAAA,OAAAe,QAAA,cACEf,IAAA,CAACH,IAAI,EAACmB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,eAAa,CAAM,CAAC,CACnC,CACL,cACDf,IAAA,OAAAe,QAAA,cACEf,IAAA,CAACH,IAAI,EAACmB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,aAAW,CAAM,CAAC,CACjC,CAAC,CACJR,IAAI,GAAK,KAAK,eAAM;AACrBP,IAAA,OAAAe,QAAA,cACEf,IAAA,CAACH,IAAI,EAACmB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,CACjC,CACH,cAECf,IAAA,OAAAe,QAAA,cACAf,IAAA,WAAQsB,OAAO,CAAEZ,YAAa,CAACO,KAAK,CAAE,CAAEM,UAAU,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEJ,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,KAAK,CAAEF,QAAQ,CAAE,MAAM,CAAED,UAAU,CAAE,MAAO,CAAE,CAAAH,QAAA,CAAC,QAErJ,CAAQ,CAAC,CACP,CAAC,EACH,CAAC,CACF,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}