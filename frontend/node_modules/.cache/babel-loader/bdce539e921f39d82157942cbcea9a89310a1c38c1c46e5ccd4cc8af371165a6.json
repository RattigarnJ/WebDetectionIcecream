{"ast":null,"code":"import'../App.css';import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[role,setRole]=useState(\"User\");// Default role เป็น User\nconst[error,setError]=useState(\"\");const registerClick=async e=>{e.preventDefault();setError(\"\");try{const response=await fetch(\"http://localhost:5000/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password,role})// ส่ง username, password และ role ไปยัง backend\n});const data=await response.json();if(!response.ok){throw new Error(data.error||\"Registration failed\");}alert(\"✅ Registration successful\");navigate(\"/\",{replace:true});}catch(err){setError(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WELCOME TO\"}),/*#__PURE__*/_jsx(\"h1\",{style:{marginTop:'410px'},children:\"ICE CREAM\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"FREEZER\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"SIGN UP\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:registerClick,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",style:{marginTop:'30px'},children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),style:{height:'30px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"User\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dev\",children:\"Dev\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{fontWeight:'lighter'},children:\"Sign Up\"})]})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","navigate","username","setUsername","password","setPassword","role","setRole","error","setError","registerClick","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","alert","replace","err","message","className","children","style","marginTop","color","onSubmit","htmlFor","type","value","onChange","target","required","height","fontWeight"],"sources":["C:/Users/Ratti/WebDetectionIcecream/frontend/src/pages/register.js"],"sourcesContent":["import '../App.css';\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Register = () => {\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [role, setRole] = useState(\"User\"); // Default role เป็น User\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const registerClick = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/register\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ username, password, role }) // ส่ง username, password และ role ไปยัง backend\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.error || \"Registration failed\");\r\n            }\r\n\r\n            alert(\"✅ Registration successful\");\r\n            navigate(\"/\", { replace: true });\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"welcome-section\">\r\n                <h1>WELCOME TO</h1>\r\n                <h1 style={{ marginTop: '410px' }}>ICE CREAM</h1>\r\n                <h1>FREEZER</h1>\r\n            </div>\r\n            <div className=\"login-section\">\r\n                <h2>SIGN UP</h2>\r\n                {error && <p className=\"error-text\" style={{ color: 'red' }}>{error}</p>}\r\n                <form className=\"login-form\" onSubmit={registerClick}>\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        value={username} \r\n                        onChange={(e) => setUsername(e.target.value)} \r\n                        required \r\n                    />\r\n                    \r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        value={password} \r\n                        onChange={(e) => setPassword(e.target.value)} \r\n                        required \r\n                    />  \r\n                    <label htmlFor=\"role\" style={{marginTop: '30px'}}>Role</label>\r\n                    <select value={role} onChange={(e) => setRole(e.target.value)} style={{height: '30px'}}>\r\n                        <option value=\"User\">User</option>\r\n                        <option value=\"Admin\">Admin</option>\r\n                        <option value=\"Dev\">Dev</option>\r\n                    </select>\r\n                    \r\n                    <button type=\"submit\" style={{ fontWeight: 'lighter' }}>\r\n                        Sign Up\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}